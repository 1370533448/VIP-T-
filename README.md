# 🗳️ 自定义投票踢人系统 (CustomVoteKick)

<div align="center">
  <img src="https://img.shields.io/badge/CS2-插件-yellow?style=for-the-badge&logo=counter-strike" alt="CS2插件"/>
  <img src="https://img.shields.io/badge/CounterStrikeSharp-支持-blue?style=for-the-badge" alt="CounterStrikeSharp"/>
  <img src="https://img.shields.io/badge/版本-1.0.0-success?style=for-the-badge" alt="版本"/>
</div>
![image](https://github.com/user-attachments/assets/0806f989-0d07-4896-be0c-46a585cf8508)
## 📝 插件描述

这是一个CS2服务器插件，用于**完全替代**原生的投票踢人系统，提供更加灵活、公平和可控的投票踢人功能。插件支持**精美的中央HUD显示**，权限分级控制，以及对管理员的保护措施。

## ✨ 主要特点

- **禁用原生系统**：自动禁用服务器原生的投票T人功能，不会与官方系统冲突
- **多样化触发方式**：
  - 聊天命令：`.t` 或 `踢人`
  - 直接指定目标：`.t 玩家名` (可以输入部分名称)
  - 控制台命令：`css_t <目标>`
- **权限分级**：
  - 🙂 **普通用户**：只能发起投票踢出自己队伍的玩家
  - 💎 **VIP用户**：可以发起投票踢出任何玩家
  - 🛡️ **VIP保护**：VIP用户不能被投票踢出（免踢特权）
  - 👑 **管理员保护**：如果尝试对管理员发起投票，会将投票对象转移为发起人自己
- **美观的中央显示界面**：
  - 使用HTML富文本格式显示投票信息
  - 实时更新投票人数和剩余时间
  - 稳定的HUD显示，不闪烁
- **简便的投票方式**：
  - 使用 `11` 或 `.yes` 表示赞成
  - 使用 `22` 或 `.no` 表示反对
- **投票规则**：
  - 通过条件：投票率 ≥ 60% 且赞成率 ≥ 60%
  - 结束时显示详细的投票统计信息
  - 玩家发起投票有60秒冷却时间

## 📋 命令列表

| 命令 | 描述 |
|------|------|
| `.t` 或 `踢人` | 在聊天中打开踢人菜单 |
| `.t <玩家名>` | 直接针对特定玩家发起投票 |
| `css_t <玩家名>` | 控制台命令，发起对指定玩家的投票踢出 |
| `11` 或 `.yes` | 投票赞成 |
| `22` 或 `.no` | 投票反对 |

## 🖼️ 界面预览

插件在游戏中的显示效果：

- **投票菜单**：清晰展示可投票的玩家列表，VIP用户和管理员有特殊标记
- **投票进行中**：中央HUD显示当前投票信息，包括目标、发起人、投票计数和倒计时
- **投票结果**：聊天区域显示详细的投票统计结果，包括赞成票数、反对票数和通过/失败原因

## 🔧 安装方法

1. 确保你的服务器已安装 [CounterStrikeSharp](https://github.com/roflmuffin/CounterStrikeSharp)
2. 下载本插件并将整个 `CustomVoteKick` 文件夹复制到服务器的 `plugins` 目录
3. 重启服务器或使用 `css_plugins_reload` 命令重新加载插件

## ⚙️ 权限配置

在服务器的 `admins.json` 中配置相应的权限：

```json
{
  "STEAM_1:0:XXXXXX": [
    "#css/vip",      // VIP权限（可以对所有玩家发起投票，自身免疫）
    "@css/admin",    // 管理员权限（免疫投票踢出）
    "@css/ban",      // 管理员权限
    "@css/root"      // 超级管理员权限
  ]
}
``` 

## 🔍 特殊说明

- 如果某个玩家同时拥有VIP和管理员权限，则其他玩家可以对其发起投票，但投票会被自动转向发起人
- 投票进行中会实时更新投票状态，显示在所有玩家的屏幕中央
- 回合结束或图切换时会自动取消进行中的投票
- 当玩家断开连接时，如果该玩家是投票的目标或发起人，投票会自动取消

## 🤝 贡献与支持

插件由KOD社区开发和维护。如有问题或建议，请加入我们的交流群或在GitHub上提交issue。

---

*💡 插件开发灵感来源于社区需求，旨在提供比原生系统更加灵活和可控的投票踢人机制。* 
